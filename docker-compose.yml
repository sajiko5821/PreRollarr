services:
  prerollarr:
    build: .
    container_name: prerollarr
    environment:
      # Disable Python buffering so logs appear immediately
      - PYTHONUNBUFFERED=1
      # How many times per day should the pre-rolls be updated?
      # Options: 1, 2, 3, 4, 6, 8, 12, 24 (etc.)
      - UPDATES_PER_DAY=24
      # Path in Plex where the pre-rolls are located
      - PLEX_PATH=/tests/PreRoll
    volumes:
      # Configuration directory
      - ./config.yaml:/app/config.yaml:ro
      # Pre-roll video files directory (map your local Plex media)
      - /Volumes/plex_test/PreRoll:/local-preroll:ro
    restart: unless-stopped
